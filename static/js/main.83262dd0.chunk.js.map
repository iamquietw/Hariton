{"version":3,"sources":["js/store/router/actionTypes.js","js/store/vk/actionTypes.js","js/store/vk/actions.js","js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/actionTypes.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/router/actions.js","js/panels/home/base.js","js/components/GroupCell.js","js/services/renderers.js","js/panels/home/groups.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","AppWithoutEpic.js","index.js"],"names":["SET_PAGE","SET_STORY","GO_BACK","OPEN_POPOUT","CLOSE_POPOUT","OPEN_MODAL","CLOSE_MODAL","SET_COLOR_SCHEME","SET_ACCESS_TOKEN","SET_ACTIVE_TAB","SET_SCROLL_POSITION","SET_SCROLL_POSITION_BY_ID","setAccessToken","accessToken","type","payload","initApp","dispatch","VKConnect","subscribe","VKConnectCallback","e","scheme","detail","unsubscribe","data","send","then","catch","error","closeApp","swipeBackOn","swipeBackOff","APICall","method","params","store","getState","vkui","undefined","response","smoothScrollToTop","c","document","documentElement","scrollTop","body","window","requestAnimationFrame","scrollTo","getActivePanel","view","panel","router","activePanel","panelsHistory","length","initialState","activeStory","activeView","storiesHistory","viewsHistory","activeModals","modalHistory","popouts","scrollPosition","colorScheme","activeTab","componentScroll","SET_FORM_DATA","forms","combineReducers","state","action","component","tab","x","y","element","getElementById","getElementsByClassName","scrollLeft","View","Panel","history","pushState","viewIndexInHistory","indexOf","splice","VK","pageYOffset","story","initial_panel","firstPanel","shift","firstView","storiesIndexInHistory","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","popout","id","modalsHistory","formData","form","goBack","openPopout","closePopout","openModal","closeModal","HomePanelBase","showImg","setState","this","props","actions","title","autoclose","style","onClose","setPage","withoutEpic","size","mode","height","React","Component","mapDispatchToProps","connect","GroupCell","description","photo","name","desc","before","src","PureComponent","renderGroupsList","items","groups","map","group","photo_100","HomePanelGroups","admined","other","loading","errorGetAuthToken","getAuthToken","getGroupsList","scope","join","access_token","prevProps","prevState","snapshot","localStorage","getItem","JSON","parse","adminedGroups","filter","item","is_admin","otherGroups","setItem","stringify","adminedGroupsList","otherGroupsList","left","onClick","stretched","header","bindActionCreators","bots","avatar","HomeBotsListModal","platform","IOS","right","settlingHeight","bot","index","asideContent","fill","withPlatform","App","lastAndroidBackAction","onpopstate","timeNow","Date","pageScrollPosition","scroll","homeModals","HomeBotInfoModal","isWebView","modal","onSwipeBack","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.83262dd0.chunk.js","sourcesContent":["export const SET_PAGE = 'SET_PAGE';\r\nexport const SET_STORY = 'SET_STORY';\r\nexport const GO_BACK = 'GO_BACK';\r\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\r\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\r\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\r\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\r\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\r\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","import {\r\n    SET_COLOR_SCHEME,\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nexport const setColorScheme = (scheme) => (\r\n    {\r\n        type: SET_COLOR_SCHEME,\r\n        payload: scheme\r\n    }\r\n);\r\n\r\nexport const setAccessToken = (accessToken) => (\r\n    {\r\n        type: SET_ACCESS_TOKEN,\r\n        payload: accessToken\r\n    }\r\n);\r\n\r\nexport const setActiveTab = (component, tab) => (\r\n    {\r\n        type: SET_ACTIVE_TAB,\r\n        payload: {\r\n            component,\r\n            tab\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPosition = (component, x = 0, y = 0) => (\r\n    {\r\n        type: SET_SCROLL_POSITION,\r\n        payload: {\r\n            component,\r\n            x,\r\n            y\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPositionByID = (component) => (\r\n    {\r\n        type: SET_SCROLL_POSITION_BY_ID,\r\n        payload: {\r\n            component\r\n        }\r\n    }\r\n);","import VKConnect from \"@vkontakte/vk-connect\";\r\n\r\nimport {store} from \"../../index\";\r\n\r\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\r\n\r\nconst APP_ID = 6984089;\r\nconst API_VERSION = '5.92';\r\n\r\nexport const initApp = () => (dispatch) => {\r\n    const VKConnectCallback = (e) => {\r\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\r\n            VKConnect.unsubscribe(VKConnectCallback);\r\n\r\n            dispatch(setColorScheme(e.detail.data.scheme));\r\n        }\r\n    };\r\n\r\n    VKConnect.subscribe(VKConnectCallback);\r\n    return VKConnect.send('VKWebAppInit', {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const getAuthToken = (scope) => (dispatch) => {\r\n    VKConnect.send(\"VKWebAppGetAuthToken\", {\r\n        \"app_id\": APP_ID,\r\n        \"scope\": scope.join(',')\r\n    }).then(data => {\r\n        dispatch(setAccessToken(data.access_token));\r\n    }).catch(() => {\r\n        dispatch(setAccessToken(null));\r\n    });\r\n};\r\n\r\nexport const closeApp = () => {\r\n    return VKConnect.send(\"VKWebAppClose\", {\r\n        \"status\": \"success\"\r\n    }).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOn = () => {\r\n    return VKConnect.send(\"VKWebAppEnableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOff = () => {\r\n    return VKConnect.send(\"VKWebAppDisableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const groupsGet = () => {\r\n    return APICall('groups.get', {\r\n        \"extended\": \"1\",\r\n        \"fields\": \"description\",\r\n        \"count\": \"100\"\r\n    });\r\n};\r\n\r\nexport const APICall = (method, params) => {\r\n    params['access_token'] = store.getState().vkui.accessToken;\r\n    params['v'] = params['v'] === undefined ? API_VERSION : params['v'];\r\n\r\n    return VKConnect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": method,\r\n        \"params\": params\r\n    }).then(data => {\r\n        return data.response;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n","import {store} from \"../../index\";\r\n\r\nexport const smoothScrollToTop = () => {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n    if (c > 30) {\r\n        return;\r\n    }\r\n\r\n    if (c > 0) {\r\n        window.requestAnimationFrame(smoothScrollToTop);\r\n        window.scrollTo(0, c - c / 8);\r\n    }\r\n};\r\n\r\nexport const restoreScrollPosition = () => {\r\n    let scrolls = store.getState().vkui.componentScroll;\r\n\r\n    Object.keys(scrolls).forEach((component) => {\r\n        let componentData = scrolls[component];\r\n\r\n        let element = document.getElementById(component);\r\n\r\n        if (element) {\r\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            element.scrollLeft = componentData.x;\r\n            element.scrollTop = componentData.y;\r\n        }\r\n    });\r\n};\r\n\r\nexport const getActivePanel = (view) => {\r\n    let panel = store.getState().router.activePanel;\r\n\r\n    let panelsHistory = store.getState().router.panelsHistory;\r\n    if (typeof panelsHistory[view] !== \"undefined\") {\r\n        panel = panelsHistory[view][panelsHistory[view].length - 1];\r\n    }\r\n\r\n    return panel;\r\n};\r\n","import {\r\n    SET_PAGE,\r\n    GO_BACK,\r\n    OPEN_POPOUT,\r\n    CLOSE_POPOUT,\r\n    OPEN_MODAL,\r\n    CLOSE_MODAL,\r\n    SET_STORY\r\n} from './actionTypes';\r\n\r\nimport * as VK from \"../../services/VK\";\r\nimport {smoothScrollToTop} from \"../../services/_functions\";\r\n\r\nconst initialState = {\r\n    activeStory: null,\r\n    activeView: null,\r\n    activePanel: null,\r\n\r\n    storiesHistory: [],\r\n    viewsHistory: [],\r\n    panelsHistory: [],\r\n\r\n    activeModals: [],\r\n    modalHistory: [],\r\n    popouts: [],\r\n\r\n    scrollPosition: []\r\n};\r\n\r\nexport const routerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_PAGE: {\r\n            let View = action.payload.view;\r\n            let Panel = action.payload.panel;\r\n\r\n            window.history.pushState(null, null);\r\n\r\n            let panelsHistory = state.panelsHistory[View] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n\r\n            const viewIndexInHistory = viewsHistory.indexOf(View);\r\n\r\n            if (viewIndexInHistory !== -1) {\r\n                viewsHistory.splice(viewIndexInHistory, 1);\r\n            }\r\n\r\n            if (panelsHistory.indexOf(Panel) === -1) {\r\n                panelsHistory = [...panelsHistory, Panel];\r\n            }\r\n\r\n            if (panelsHistory.length > 1) {\r\n                VK.swipeBackOn();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: View,\r\n                activePanel: Panel,\r\n\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [View]: panelsHistory,\r\n                },\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeStory]: [...viewsHistory, View]\r\n                },\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case SET_STORY: {\r\n            window.history.pushState(null, null);\r\n\r\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\r\n\r\n            let storiesHistory = state.storiesHistory;\r\n            let activeView = viewsHistory[viewsHistory.length - 1];\r\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\r\n            let activePanel = panelsHistory[panelsHistory.length - 1];\r\n\r\n            if (action.payload.story === state.activeStory) {\r\n                if (panelsHistory.length > 1) {\r\n                    let firstPanel = panelsHistory.shift();\r\n                    panelsHistory = [firstPanel];\r\n\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                } else if (viewsHistory.length > 1) {\r\n                    let firstView = viewsHistory.shift();\r\n                    viewsHistory = [firstView];\r\n\r\n                    activeView = viewsHistory[viewsHistory.length - 1];\r\n                    panelsHistory = state.panelsHistory[activeView];\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                }\r\n            }\r\n\r\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\r\n                window.scrollTo(0, 30);\r\n\r\n                smoothScrollToTop();\r\n            }\r\n\r\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\r\n\r\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\r\n                storiesHistory = [...storiesHistory, action.payload.story];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeStory: action.payload.story,\r\n                activeView: activeView,\r\n                activePanel: activePanel,\r\n\r\n                storiesHistory: storiesHistory,\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [activeView]: panelsHistory\r\n                },\r\n\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case GO_BACK: {\r\n            let setView = state.activeView;\r\n            let setPanel = state.activePanel;\r\n            let setStory = state.activeStory;\r\n\r\n            let popoutsData = state.popouts;\r\n\r\n            if (popoutsData[setView]) {\r\n                popoutsData[setView] = null;\r\n\r\n                return {\r\n                    ...state,\r\n                    popouts: {\r\n                        ...state.popouts, popoutsData\r\n                    }\r\n                };\r\n            }\r\n\r\n            let viewModalsHistory = state.modalHistory[setView];\r\n\r\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\r\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\r\n\r\n                if (activeModal === null) {\r\n                    viewModalsHistory = [];\r\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\r\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\r\n                } else {\r\n                    viewModalsHistory.push(activeModal);\r\n                }\r\n\r\n                return {\r\n                    ...state,\r\n                    activeModals: {\r\n                        ...state.activeModals,\r\n                        [setView]: activeModal\r\n                    },\r\n                    modalHistory: {\r\n                        ...state.modalHistory,\r\n                        [setView]: viewModalsHistory\r\n                    }\r\n                };\r\n            }\r\n\r\n            let panelsHistory = state.panelsHistory[setView] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n            let storiesHistory = state.storiesHistory;\r\n\r\n            if (panelsHistory.length > 1) {\r\n                panelsHistory.pop();\r\n\r\n                setPanel = panelsHistory[panelsHistory.length - 1];\r\n            } else if (viewsHistory.length > 1) {\r\n                viewsHistory.pop();\r\n\r\n                setView = viewsHistory[viewsHistory.length - 1];\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n            } else if (storiesHistory.length > 1) {\r\n                storiesHistory.pop();\r\n\r\n                setStory = storiesHistory[storiesHistory.length - 1];\r\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\r\n\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                if (panelsHistoryNew.length > 1) {\r\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n                } else {\r\n                    setPanel = panelsHistoryNew[0];\r\n                }\r\n            } else {\r\n                VK.closeApp();\r\n            }\r\n\r\n            if (panelsHistory.length === 1) {\r\n                VK.swipeBackOff();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: setView,\r\n                activePanel: setPanel,\r\n                activeStory: setStory,\r\n\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [state.activeView]: panelsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_POPOUT: {\r\n            window.history.pushState(null, null);\r\n\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: action.payload.popout\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_POPOUT: {\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: null\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_MODAL: {\r\n            window.history.pushState(null, null);\r\n\r\n            let activeModal = action.payload.id || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_MODAL: {\r\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n","import {\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_COLOR_SCHEME,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nconst initialState = {\r\n    accessToken: undefined,\r\n    colorScheme: 'client_light',\r\n\r\n    activeTab: [],\r\n    componentScroll: []\r\n};\r\n\r\nexport const vkuiReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_COLOR_SCHEME: {\r\n            return {\r\n                ...state,\r\n                colorScheme: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACCESS_TOKEN: {\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACTIVE_TAB: {\r\n            return {\r\n                ...state,\r\n                activeTab: {\r\n                    ...state.activeTab,\r\n                    [action.payload.component]: action.payload.tab\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION: {\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: action.payload.x,\r\n                        y: action.payload.y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION_BY_ID: {\r\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            let x = element.scrollLeft;\r\n            let y = element.scrollTop;\r\n\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: x,\r\n                        y: y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nconst initialState = {\r\n    forms: []\r\n};\r\n\r\nexport const formDataReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                forms: {\r\n                    ...state.forms,\r\n                    [action.payload.form]: action.payload.data\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n\r\n    }\r\n\r\n};","import {combineReducers} from \"redux\";\r\nimport {routerReducer} from './router/reducers';\r\nimport {vkuiReducer} from './vk/reducers';\r\nimport {formDataReducer} from \"./formData/reducers\";\r\n\r\nexport default combineReducers({\r\n    vkui: vkuiReducer,\r\n    router: routerReducer,\r\n    formData: formDataReducer\r\n});","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\r\n\r\nexport const setStory = (story, initial_panel) => (\r\n    {\r\n        type: SET_STORY,\r\n        payload: {\r\n            story: story,\r\n            initial_panel: initial_panel,\r\n        }\r\n    }\r\n);\r\n\r\nexport const setPage = (view, panel) => (\r\n    {\r\n        type: SET_PAGE,\r\n        payload: {\r\n            view: view,\r\n            panel: panel\r\n        }\r\n    }\r\n);\r\n\r\nexport const goBack = () => (\r\n    {\r\n        type: GO_BACK\r\n    }\r\n);\r\n\r\nexport const openPopout = (popout) => (\r\n    {\r\n        type: OPEN_POPOUT,\r\n        payload: {\r\n            popout: popout\r\n        }\r\n    }\r\n);\r\n\r\nexport const closePopout = () => (\r\n    {\r\n        type: CLOSE_POPOUT\r\n    }\r\n);\r\n\r\nexport const openModal = (id) => (\r\n    {\r\n        type: OPEN_MODAL,\r\n        payload: {\r\n            id\r\n        }\r\n    }\r\n);\r\n\r\nexport const closeModal = () => (\r\n    {\r\n        type: CLOSE_MODAL\r\n    }\r\n);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions';\r\n\r\nimport {Div, Panel, Alert, Group, Button, PanelHeader, CardGrid, Card} from \"@vkontakte/vkui\"\r\n\r\nimport \"../../../css/main.css\"\r\n\r\nclass HomePanelBase extends React.Component {\r\n\r\n    state = {\r\n        showImg: false\r\n    };\r\n\r\n    showImg = () => {\r\n        this.setState({showImg: true});\r\n    };\r\n\r\n    openPopout() {\r\n        this.props.openPopout(\r\n            <Alert\r\n                actions={[{\r\n                    title: 'Нет',\r\n                    autoclose: true,\r\n                    style: 'cancel',\r\n                }, {\r\n                    title: 'Да',\r\n                    autoclose: true,\r\n                    action: this.showImg\r\n                }]}\r\n                onClose={() => this.props.closePopout()}\r\n            >\r\n                <h2>Вопрос значит</h2>\r\n                <p>Вас роняли в детстве?</p>\r\n            </Alert>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {id, setPage, withoutEpic} = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Академия CS:GO</PanelHeader>\r\n                <Group>\r\n                    <Div>\r\n                        <CardGrid>\r\n                            <Card id=\"card_mechanics\" size=\"m\" mode={\"shadow\"}>\r\n                                <div id={\"card_mechanics_parent\"} style={{ height: 96 }}>\r\n                                    <div id={\"card_mechanics_text\"}>\r\n                                        Особенности\r\n                                        механики игры\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card id=\"card_skins\" size=\"m\" mode={\"shadow\"}>\r\n                                <div id=\"card_skins_parent\" style={{ height: 96 }}>\r\n                                    <div id={\"card_skins_text\"}>\r\n                                        Скины\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card id={\"card_info\"} size=\"l\" mode={\"shadow\"}>\r\n                                <div id={\"card_info_parent\"} style={{ height: 96 }}>\r\n                                    <div id={\"card_info_text\"}>\r\n                                        История и другая информация об игре\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card id={\"card_ranks\"} size=\"l\" mode={\"shadow\"}>\r\n                                <div id={\"card_ranks_parent\"} style={{ height: 96 }}>\r\n                                    <div id={\"card_ranks_text\"}>\r\n                                        Всё о званиях и соревновательном режиме\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card id=\"card_modes\" size=\"s\" mode={\"shadow\"}>\r\n                                <div id={\"card_modes_parent\"} style={{ height: 96 }}>\r\n                                    <div id={\"card_modes_text\"} >\r\n                                        Режимы\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card id={\"card_test\"} size=\"s\" mode={\"shadow\"}>\r\n                                <div id={\"card_test_parent\"} style={{ height: 96 }}>\r\n                                    <div id={\"card_test_text\"}>\r\n                                        Тесты\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                            <Card id={\"card_tactic\"} size=\"s\" mode={\"shadow\"}>\r\n                                <div id={\"card_tactic_parent\"} style={{ height: 96 }}>\r\n                                    <div id={\"card_tactic_text\"}>\r\n                                        Тактики\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                        </CardGrid>\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    goBack,\r\n    openPopout,\r\n    closePopout,\r\n    openModal\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(HomePanelBase);\r\n","import React, {PureComponent} from 'react';\r\n\r\nimport {Cell, Avatar} from \"@vkontakte/vkui\";\r\n\r\nclass GroupCell extends PureComponent {\r\n\r\n    render() {\r\n        const {description, photo, name} = this.props;\r\n\r\n        let desc = description.length > 0 ? description : \"Описание отсутствует\";\r\n\r\n        return (\r\n            <Cell\r\n                description={desc}\r\n                before={<Avatar size={40} src={photo}/>}\r\n            >\r\n                {name}\r\n            </Cell>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default GroupCell;","import React from 'react';\r\nimport GroupCell from '../components/GroupCell';\r\n\r\nexport const renderGroupsList = (items) => {\r\n    let groups = null;\r\n    if (items !== undefined && items !== null && items.length !== 0) {\r\n        groups = items.map((group) => (\r\n            <GroupCell\r\n                key={group.id}\r\n                description={group.description}\r\n                photo={group.photo_100}\r\n                name={group.name}/>\r\n        ));\r\n    }\r\n    return groups;\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from \"redux\";\r\n\r\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\r\nimport * as VK from '../../services/VK';\r\n\r\nimport {renderGroupsList} from '../../services/renderers';\r\n\r\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelGroups extends React.Component {\r\n\r\n    state = {\r\n        groups: {\r\n            admined: [],\r\n            other: [],\r\n        },\r\n        loading: true,\r\n        errorGetAuthToken: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.accessToken === undefined) {\r\n            this.getAuthToken();\r\n        } else {\r\n            this.getGroupsList();\r\n        }\r\n    }\r\n\r\n    getAuthToken() {\r\n        this.props.dispatch(VK.getAuthToken(['groups']));\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props !== prevProps) {\r\n            if (this.props.accessToken === null) {\r\n                this.setState({\r\n                    loading: false,\r\n                    errorGetAuthToken: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loading: true,\r\n                    errorGetAuthToken: false\r\n                });\r\n\r\n                this.getGroupsList();\r\n            }\r\n        }\r\n    }\r\n\r\n    async getGroupsList() {\r\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\r\n            this.setState({\r\n                groups: {\r\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\r\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\r\n                },\r\n                loading: false\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        let groups = await VK.groupsGet();\r\n\r\n        let adminedGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 1;\r\n        });\r\n\r\n        let otherGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 0;\r\n        });\r\n\r\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\r\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\r\n\r\n        this.setState({\r\n            groups: {\r\n                admined: adminedGroups,\r\n                other: otherGroups\r\n            },\r\n            loading: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\r\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Группы\r\n                </PanelHeader>\r\n                {this.state.loading && <PanelSpinner/>}\r\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\r\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\r\n                    <Div>\r\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\r\n                            повторно</Button>\r\n                    </Div>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\r\n                <Group header={\r\n                    <Header mode=\"secondary\">Администрируемые</Header>\r\n                }>\r\n                    <List>\r\n                        {adminedGroupsList}\r\n                    </List>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\r\n                <Group header={\r\n                    <Header mode=\"secondary\">Остальные</Header>\r\n                }>\r\n                    <List>\r\n                        {otherGroupsList}\r\n                    </List>\r\n                </Group>}\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accessToken: state.vkui.accessToken\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelGroups);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {openModal} from \"../../store/router/actions\";\r\n\r\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nconst bots = [\r\n    {\r\n        name: 'VKS',\r\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\r\n        desc: 'Нет, меня не роняли в детстве'\r\n    },\r\n    {\r\n        name: 'Недобот',\r\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\r\n        desc: 'Я ни разу не пил кокосовое молоко'\r\n    },\r\n    {\r\n        name: 'Realm of War',\r\n        avatar: 'https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1',\r\n        desc: 'Ненавижу спойлеры.'\r\n    },\r\n];\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, openModal, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        /appbots на минималках\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <List>\r\n                    {bots.map((bot, index) => (\r\n                        <Cell\r\n                            key={index}\r\n                            description={bot.desc}\r\n                            before={<Avatar size={40} src={bot.avatar}/>}\r\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\r\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\r\n                        >\r\n                            {bot.name}\r\n                        </Cell>\r\n                    ))}\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    openModal\r\n};\r\n\r\nexport default withPlatform(connect(null, mapDispatchToProps)(HomeBotsListModal));\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        Информация о боте\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <Cell\r\n                    description=\"Описание\"\r\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\r\n                >\r\n                    Название\r\n                </Cell>\r\n                <List>\r\n                    <Cell>\r\n                        <InfoRow header=\"Подписчиков\">\r\n                            8800\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Записей\">\r\n                            555\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Рейтинг\">\r\n                            3535\r\n                        </InfoRow>\r\n                    </Cell>\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withPlatform(connect()(HomeBotsListModal));\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux'\r\nimport {goBack, closeModal} from \"./js/store/router/actions\";\r\nimport {getActivePanel} from \"./js/services/_functions\";\r\nimport * as VK from './js/services/VK';\r\n\r\nimport {View, Root, ModalRoot, ConfigProvider} from \"@vkontakte/vkui\";\r\n\r\nimport HomePanelProfile from './js/panels/home/base';\r\nimport HomePanelGroups from './js/panels/home/groups';\r\n\r\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\r\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.lastAndroidBackAction = 0;\r\n    }\r\n\r\n    componentWillMount() {\r\n        const {goBack, dispatch} = this.props;\r\n\r\n        dispatch(VK.initApp());\r\n\r\n        window.onpopstate = () => {\r\n            let timeNow = +new Date();\r\n\r\n            if (timeNow - this.lastAndroidBackAction > 500) {\r\n                this.lastAndroidBackAction = timeNow;\r\n\r\n                goBack();\r\n            } else {\r\n                window.history.pushState(null, null);\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\r\n\r\n        if (\r\n            prevProps.activeView !== activeView ||\r\n            prevProps.activePanel !== activePanel ||\r\n            prevProps.activeStory !== activeStory\r\n        ) {\r\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\r\n\r\n            window.scroll(0, pageScrollPosition);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {goBack, closeModal, popouts, activeView, activeModals, panelsHistory, colorScheme} = this.props;\r\n\r\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\r\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\r\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\r\n\r\n        const homeModals = (\r\n            <ModalRoot activeModal={activeModal}>\r\n                <HomeBotsListModal\r\n                    id=\"MODAL_PAGE_BOTS_LIST\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <HomeBotInfoModal\r\n                    id=\"MODAL_PAGE_BOT_INFO\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n            </ModalRoot>\r\n        );\r\n\r\n        return (\r\n            <ConfigProvider isWebView={true} scheme={colorScheme}>\r\n                <Root activeView={activeView} popout={popout}>\r\n                    <View\r\n                        id=\"home\"\r\n                        modal={homeModals}\r\n                        activePanel={getActivePanel(\"home\")}\r\n                        history={history}\r\n                        onSwipeBack={() => goBack()}\r\n                    >\r\n                        <HomePanelProfile id=\"base\" withoutEpic={true}/>\r\n                        <HomePanelGroups id=\"groups\"/>\r\n                    </View>\r\n                    <View\r\n                        id=\"modal\"\r\n                        modal={homeModals}\r\n                        activePanel={getActivePanel(\"modal\")}\r\n                        history={history}\r\n                        onSwipeBack={() => goBack()}\r\n                    >\r\n                    </View>\r\n                </Root>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeView: state.router.activeView,\r\n        activeStory: state.router.activeStory,\r\n        panelsHistory: state.router.panelsHistory,\r\n        activeModals: state.router.activeModals,\r\n        popouts: state.router.popouts,\r\n        scrollPosition: state.router.scrollPosition,\r\n\r\n        colorScheme: state.vkui.colorScheme\r\n    };\r\n};\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({goBack, closeModal}, dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport rootReducer from './js/store/reducers';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nimport {setStory} from \"./js/store/router/actions\";\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/main.css';\r\n\r\nimport App from './AppWithoutEpic';\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(\r\n    applyMiddleware(thunk),\r\n));\r\n\r\nstore.dispatch(setStory('home', 'base'));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}